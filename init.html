<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title></title>
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css" />
	<script src="assets/js/jquery-2.0.2.js" type="text/javascript"></script>
	<script src="assets/js/underscore.js" type="text/javascript"></script>	
	<script src="assets/js/intention.js" id="intention" type="text/javascript"></script>
	<script type="text/javascript">
			console.log('running the init stuff');
			function in_init(contexts, callback){
			  var dfds = [];
			
			  _.each(contexts, function(ctx){
			    var dfd = $.Deferred();
			
			    dfds.push(dfd);
			
			    if(intent.is(ctx)) {
			      dfd.resolve();
			    } else {
			      intent.on(ctx, dfd.resolve);
			    }
			  });
			
			  if((!contexts) || (contexts.length === 0)){ sheetWriter(); }
			  
			  $.when.apply(this, dfds).done(callback);
			};
			
			in_init(['standard', 'hdtv'], function(){
			  console.log('standard has been entered');
			  imageSetup();
			  equalizeAll('#docs', 'article.equalize', 'section');
			});
			
			in_init(['tablet', 'smalltablet'], function(){
				console.log('tablets entered');
				console.log('whats this?', $(this), this);
				equalizeAll('#smallCode', 'pre');
				writeOutput(intent.axes.width.current);
			});
			
			in_init(['mobile'], function() {
				console.log('mobile entered');
				writeOutput(device);
			});
	</script>
	<script src="assets/js/context.js" type="text/javascript"></script>	
</head>
<body>
	<div id="container" intent in-width>
		
	</div>
</body>
</html>


